<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>{{ .Film.Title }}</title>
        <link rel="stylesheet" type="text/css" href="files/template_video.css" />
        <link rel="shortcut icon" type="image/png" href="files/icon.png" />
    </head>
    <body>
        <header>
            <img id="search-image" src="files/search_icon.png">
            <input id="search-input" type="text" name="" placeholder="What would you like to watch?">
         </header>
         <main>
            <article>
                <video controls preload="auto">
                    <source src="media/{{ .File.Path }}"
                            type="video/{{ .File.Type }}">
                    Sorry, your browser doesn't support embedded videos.
                </video>
                <p>{{ .Film.Title }}</p>
                <p>{{ .Film.ReleaseDate }}</p>
            </article>
        </main>
    </body>
    <script type="text/javascript">
        const search_input = document.getElementById("search-input");
        const search_image = document.getElementById("search-image");

        search_input.addEventListener('keyup', InputHandler);
        search_image.addEventListener('click', ImageHandler);

        function InputHandler (key_event) {
            if (event.keyCode === 13) {
                location.replace("search?q="+search_input.value);
            }
        }

        function ImageHandler () {
            location.replace("search?q="+search_input.value);
        }
    </script>
</html>
